<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
        content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <script src="js/jquery.js"></script>
    <script src="js/flexible.js"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script src="api/api.js"></script>
    <script src="js/echarts.min.js"></script>
    <!-- 引入jquery -->
    <!-- 使用第三方脚本 -->
    <script src="js/chartup.js"></script>
    <!-- button -->
    <script src="js/buttonTabber/Tabber.js"></script>
    <script src="js/bmap.min.js"></script>
    <script src="js/china.js"></script>
    <!-- <script src="js/echarts-gl.js"></script> -->
    <script src="js/d3-geo.js"></script>
    <script src="js/d3-timer.js"></script>
    <script src="js/d3-contour.js"></script>
    <!--  ajax-axios 请求 -->




    <script src="js/countup.js"></script>
    <script src="js/index.js"></script>
    <script src="libs/three.min.js"></script>
    <script src="libs/OrbitControls.js"></script>
    <!-- <script src="./libs/echarts.min.js"></script> -->
    <script src="data/world.js"></script>
    <script src="data/population.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <link rel="stylesheet" href="css/index.css">
    <link rel="stylesheet" href="css/kindinf.css">
    <link rel="stylesheet" href="css/showtip.css">
    <link rel="stylesheet" href="css/containerlost.css">
    <link rel="stylesheet" type="text/css" media="screen and (min-width: 1920px)" href="css/shipei.css" /> 
    <link rel="stylesheet" href="css/hint.css"></link> 

</head>

<body>
    <!-- 头部-->
    <header>
        <h1>数据后台</h1>
    </header>
    <!--主体盒子 -->
    <!--  整个盒子 分为 3 5 3 -->
    <section class="mainbox">
        <div class="clumn-item">
            <!-- 年龄分布 -->
            <!-- //柱形图 -->
            <div class="panel bar">
                <h2>年龄分布</h2>
                <div class="chert">

                </div>
                <div class="panel-footer"></div>
            </div>

            <!-- 来源分析 -->
            <div class="panel pie">
                <h2>来源分析 </h2>
                <div class="chert">

                </div>
                <div class="panel-footer"></div>
            </div>
        </div>
        <!-- 中间部分 -->
        <div class="clumn-item">
            <!-- 地图模块 -->
            <!-- <div id="container">
                <canvas id="itemfont"></canvas>
               </div> -->
            <div class="no">
                <!-- 外层盒子 -->
                <!--渲染这个 -->
                <div class="no-wai">
                    <div class="no-border-item">
                        <div class="no-bord"></div>
                        <div class="no-size" >
                            {{showValue.split('')[0]}}
                        </div>
                        <!-- <h2>1</h2> -->
                        <div class="no-ford"></div>
                    </div>
                    <div class="no-border-item">
                        <div class="no-bord"></div>
                        <!-- <div>1</div> -->
                        <div class="no-size">
                            {{showValue.split('')[1]}}
                        </div>
                        <div class="no-ford"></div>
                    </div>
                    <div class="no-border-item">
                        <div class="no-bord"></div>
                        <div class="no-size">
                            {{showValue.split('')[2]}}
                        </div>
                        <div class="no-ford"></div>
                    </div>
                    <div class="no-border-item">
                        <div class="no-bord"></div>
                        <div class="no-size">
                            {{showValue.split('')[3]}}
                        </div>
                        <div class="no-ford"></div>
                    </div>
                    <div class="no-border-item">
                        <div class="no-bord"></div>
                        <div class="no-size">
                            {{showValue.split('')[4]}}
                        </div>
                        <div class="no-ford"></div>
                    </div>
                </div>
            </div>

            <!-- 这个是 -->
            <div class="map maps">

                <div class="map1"></div>
                <div class="map-icon">
                    <div class="laifang"></div>
                    <div class="laifang-item"></div>
                </div>
                <div class="map-icon-fo">
                    <div class="laifang lantiao">平均停留时长:</div>
                    <div class="laifang-item laifang-fin">{{this.timeFilter(getfiler)}}</div>
                </div>
                <div class="map2">
                </div>
                <div class="map3">
                </div>
                <div class="chart-item">

                </div>
                <div class="chart">

                </div>

            </div>
            <div class="juxing">

                <div class="juxing-box">
                    <div class="juxing-item">
                        <div class="juxing-list">
                            <div class="item-i">
                                <div></div>
                                <div class="item-p">搜索词</div>
                                <div></div>
                                <div class="item-q">PV</div>
                                <div></div>
                                <div class="item-v">占比</div>
                            </div>
                                <ul class="slide-lists js-slide-lists" style="list-style: none;">
                                    <li v-for="item in getloaditem">
                                        <div class="item-box" id="userData">
                                            <div class="item-box-png">

                                                <!-- <img src="images/icon/zu2.png" alt="" class="item-zu1"> -->
                                                <!-- class="hint--bottom" data-hint="Thank you!" -->
                                            </div>
                                            <div class="item-ju hint--bottom" style="color:#fff;" :title="item[0]">
                                                {{item[0]}}
                                            </div>
                                            <div style="color:#fff;" class="item-num">
                                                {{item[1]}}
                                            </div>
                                            <div class="xiaojiantou" style="color:#fff">
                                                {{item[2]}}%
                                            </div>
                                        </div>
                                    </li>
                                </ul>
                        </div>

                    </div>
                    <!-- 这个地方是魔板 -->
                    <div class="juxing-item mapts">
                        <div class="cherts"></div>
                    </div>
                </div>
            </div>
        </div>
        <!-- 趋势分析 -->
        <div class="clumn-item" style="width: 2rem;">
            <div class="panel line">
                <div class="hiver">
                    <div class="panel-x">
                        <h2 class="h2-it">趋势分析</h2>
                    </div>
                    <div class="panel-y">
                        <a href="javascript:;"  style="color:#fff;" class="month" id="btn1" onclick="btn(1)">过去七天</a>
                        <a href="javascript:;"   style="color:#fff!important;" class="year" id="btn2" onclick="btn(2)">今天</a>
                    </div>
                    <!-- <div class="panel-y">
                        <div class="month">1</div>
                        <div class="year">2</div>
                    </div> -->
                </div>
                <!-- 今日&昨日 -->
                <div class="chert">

                </div>
                <!-- 当日 -->
                <div class="cherrt">

                </div>
                <div class="panel-footer"></div>
            </div>
            <div class="panel bing item-bin">
                <!-- <h2>图片上传数量</h2> -->
                <div class="list-box">
                    <!-- 包裹着两个小的div -->
                    <div class="list-item-box">
                        <div></div>
                        <div class="list-item-ming" >访问时间</div>
                        <div></div>
                        <div class="list-item-xiazai01">地域</div>
                        <div></div>
                        <div class="list-item-xiazai02">来源</div>
                        <div></div>
                        <div class="list-item-xiazai03">搜索词</div>
                        <div></div>
                        <div class="list-item-xiazai04">访问时长</div>
                    </div>
                    <!-- 四个小容器 -->
                    <!-- <div class="containerlost" id="con">

                    </div> -->
                    <ul class="slide-list js-slide-list" >
                        <li class="odd" v-for="(item,index) in getfindDate" :key="index">
                            <div class="lis-box-small">
                                <div class="lis-box-png" :title="item[0]" style="text-overflow:ellipsis;overflow: hidden;white-space: nowrap; ">
                                  {{item[0]}}
                                </div>
                                <div  class="lis-box-png01 hint--bottom" :data-hint="item[1]">
                                    {{item[1]}}
                                </div>
                                <div  class="lis-box-png02 " >
                                    {{item[2].fromType}}
                                    
                                </div>
                                <div  class="lis-box-png03 hint--bottom" :data-hint="item[4]" :title="item[4]" style="text-overflow:ellipsis;overflow: hidden;white-space: nowrap; ">
                                    {{item[4]}}
                                </div>
                                <div  class="lis-box-png04 tooltip ">
                                    {{item[8]}}s
                                </div>
                            </div>
                        </li>

                    </ul>

                </div>
                <div class="panel-footer"></div>
            </div>
        </div>
    </section>
    
    <script>

        var vm = new Vue({
            el: '.mainbox',
            data: {
                getloaditem: [
                    {
                    }
                ], //数据模型
                getDatatoday: [
                    {}
                ], //获取平均时长今日时间

                num: 1,// 在线访问人数 //这个是数据渲染参数
                getfindDate: [],// 右下数据模型
                flag: false,// 显示隐藏
                getpingjun:'',
                getfiler:'',
                showValue: '',// 在线访问值
                modelshow:'',
                end:0,
            },
            created(){

            },
            mounted() {
                this.getloadfun(); //获取中间左
                this.getfangwenfun(); //获取中间上
                this.getfindfun(); //获取右下数据
                this.timeFilter();
              
            },
            methods: {
                filerfun(){
                    let start = 0; //接口
                // let end = 99999; 
                // console.log(this.modelshow,"这个是什么书据");
                this.showValue=start.toString().padStart(5,"0");
                // console.log(this.showValue,"打印一下吗可以吗?")
                this.add(start,this.end);
                },
                // 渲染中间左
                getloadfun: function () {
                    server.get('/getTopTenWord', {

                    }).then(res => {
                        this.getloaditem = res.data.data;
                        console.log(this.getloaditem,"中间左");
                    })
                },
                // 渲染中间上
               
                getfangwenfun: function () {
                    server.get('/getPvUvData', {

                    }).then(res => {
                        // console.log(res.data.data); //这个是接口
                        this.getDatatoday = res.data.data;
                        // 获取 平均时长
                        this.getpingjun = res.data.data[5];
                        let getfiler = this.getpingjun;
                        // console.log(getfiler,"打印一下少增")
                        // console.log(this.getpingjun,"获取一下平均时长");
                        // console.log(this.getDatatoday);
                        this.timeFilter(getfiler);
                        // console.log(this.timeFilter(getfiler),"打印一下数据")
                        this.end = this.getDatatoday[1];  //访问人数
                        // console.log(this.end,"999999")
                        // this.end=123;
                        this.filerfun();
                        // console.log(this.end,"定义一下");
                        // console.log(this.modelshow,"定义一下");
                        // this.num = this.PrefixInteger(num, 5);
                        // this.start();
                        // this.num="99999"
                        // console.log(this.num, "取下标");
                    })
                },
                // 前面加零
                PrefixInteger: function (num, m) {
                    return (Array(m).join(0) + num).slice(-m);
                },

                // 可以使用的数据
                add(start,end){
                let count = start;
                let timer = setInterval(()=>{
                    this.showValue = count.toString().padStart(5,'0');
                    if(count < end){
                        count++;
                    }else{
                        clearInterval(timer)
                    }
                })
            },

                //时间转换
               
                timeFilter (seconds) {
                    // console.log(this.getfiler,"看看可以吗")
                    var ss = parseInt(this.getpingjun)// 秒
                    var mm = 0// 分
                    var hh = 0// 小时
                    if (ss > 60) {
                    mm = parseInt(ss / 60)
                    ss = parseInt(ss % 60)
                    }
                    if (mm > 60) {
                    hh = parseInt(mm / 60)
                    mm = parseInt(mm % 60)
                    }
                    var result = ('00' + parseInt(ss)).slice(-2)
                    if (mm > 0) {
                    result = ('00' + parseInt(mm)).slice(-2) + ':' + result
                    } else {
                    result = '00:' + result
                    }
                    if (hh > 0) {
                    result = ('00' + parseInt(hh)).slice(-2) + ':' + result
                    }
                    return result
                },


                // start: function () {
                //     var num = 67231 //这个是num 值
                //     var currentNum = 0
                //     var html = document.getElementsByClassName('no-size');
                //     // console.log(html)
                //     var abs = 1500
                //     var interval = null
                //     start()
                //     interval = setInterval(function () {
                //         currentNum = currentNum + abs
                //         for (var i = 0; i <= html.length - 1; i++) {
                //             set(i, currentNum)
                //         }
                //         if (currentNum + abs > num) {
                //             clearInterval(interval)
                //             for (var j = 0; j <= html.length - 1; j++) {
                //                 set(j, num)
                //             }
                //         }
                //     })
                // },
                // set: function (index, num) {
                //     html[index].innerHTML = num.toString()[index] ?? 0
                // },

                // 右下数据
                getfindfun: function () {
                    server.get('/getVisteDetail', {

                    }).then(res => {
                        // console.log(res);
                        this.getfindDate = res.data.data;
                        // this.getfindDate = res.data.data[0];
                        // console.log(this.getfindDate,"打印一下这个数");
                    })
                },
                btn: function (index) {
                    this.flag = !this.flag;
                }
            }
        })



        var getAgeitem = [];
        var that = this;
        setTimeout(function () {
            that.aa();
            clearTimeout();
        }, 1000);
        setTimeout(function () {
            that.bb();
            clearTimeout();
        }, 1000);

        setTimeout(() => {
            that.cc();
            clearTimeout();
        }, 1000);

        setTimeout(() => {
            that.dd();
            clearTimeout();
        }, 1000);
        // setTimeout(() => {
        //     that.ee();
        // }, 5000)
        let datafons = server.get('/getAge', {
        }).then(res => {
            this.getAgeitem = res.data.data;

        }).catch(error => {
            console.error("请求失败")
        })

        //  渲染饼状图
        var getSourceAnalysisitem = []
        let data = server.get('/getSourceAnalysis', {
        }).then(res => {
            var strarray = res.data.data;
            strarray.forEach(function (item) {
                this.getSourceAnalysisitem.push({
                    value: item[0],
                    name: item[1],
                })
            })
        })
        //渲染中间左的数据
        let datalist = server.get('/getTopTenWord', {
        }).then(res => {

        })

        // 渲染中间靠右的数据
        var getdataitem = []; //x轴
        var getgooditem = []; //Y轴
        var getdataitemfun =[];
        let dataitem = server.get('/getBdIndex', {

        }).then(res => {
            this.getdataitemtodate = res.data.data.todat_date;
            this.getdataitemyes = res.data.data.yestodayDate;
            this.getdataitem = res.data.data[0]; //日期
                var getAgeload = res.data.data[1];
                for (var i = 0; i < getAgeload.length; i++) {
                    getAgeload[i] = getAgeload[i][0] === "--" ? 0 : getAgeload[i][0]
            }
            // console.log(getAgeload,"打印一下数据")
            this.getdataitemfun = getAgeload;
                // console.log(this.getdataitemfun,"我的内容");
            // getdatavar.forEach(ele =>{
            //     getdataitemfun=getdataitemfun.concat(ele);
            // })
        
            // for (var i = 0; i < getdatavar.length; i++) {
            //     getdatavar[i] = getdatavar[i][0] === "--" ? 0 : getdatavar[i][0]
            // }

            // console.log(getdatavar);
            // this.getgooditem = getdatavar; //
            // this.getgooditem = res.data.data[1]; //索引量
            // console.log( this.getdataitem,"你是什么东西");
            // console.log( this.getdataitemfun,"你是什么东西aSDDDD");

        })
        // 渲染右上
        var getshowTodaydata = [];//x轴
        var getshowyeardaydatalst = [];//y轴
        var getitemdata = [];
        let getTimedata = server.get('/getTimeTrendRpt', {
            params: {
                date: 'today',
                // today:'今天',
            }
        }).then(res => {
            // this.getitemdata = res.data.data;
            var todayitem = res.data.data.today;
            for (var i = 0; i < todayitem.length; i++) {
                todayitem[i] = todayitem[i][0] === "--" ? 0 : todayitem[i][0]
            }
            // console.log(todayitem, "打印一下");
            this.getshowTodaydata = todayitem;
            // console.log("jintians" + getshowTodaydata);
            var todayitemdata = res.data.data.yestoday
            for (var i = 0; i < todayitemdata.length; i++) {
                todayitemdata[i] = todayitemdata[i][0] === "--" ? 0 : todayitemdata[i][0]
            }
            // console.log(todayitemdata, "打印一下");
            this.getshowyeardaydatalst = todayitemdata;
            // this.getshowyeardaydatalst = ;

        })
        // 过去七天的
        var getTimelongitem = [];
        var getDATEda =[];
        let getTimedatafun = server.get('/getTimeTrendRpt', {
            params: {
                date: 'seven',
            }
        }).then(res => {
            this.getTimelongitem = res.data.data.data;
            // console.log(getTimelong,"获取一下");
            for( var n=0; n<getTimelongitem.length; n++){
                getTimelongitem[n]= getTimelongitem[n][0] === "--" ? 0:getTimelongitem[n][0]
            }
            // console.log(getTimelongitem,"获取一下");
            // this.getTimelongitem 
            // console.log(this.getTimelongitem, "获取未来七天的");

            this.getDATEda = res.data.data.date;
            // console.log(this.getDATEda,"djhgj");
            // for( var n=0; n<getDATEda.length; n++){
            //     getDATEda[n]= getDATEda[n][0] === "--" ? 0:getDATEda[n][0]
            // }
            // console.log(getDATEda,"打印一下吗")
        })

        // 柱状图
        function aa() {
            // 1实例化对象
            var myChart = echarts.init(document.querySelector(".bar .chert"));
            // 2. 指定配置项和数据
            var option = {
                color: ["#2f89cf"],
                title: {},
                legend: {
                    data: ['bar'],
                    left: 10
                },
                tooltip: {
                    trigger: "axis",
                    axisPointer: {
                        // 坐标轴指示器，坐标轴触发有效
                        type: "shadow" // 默认为直线，可选为：'line' | 'shadow'
                    }
                },
                // 修改图表的大小
                grid: {
                    left: "0%",
                    top: "10px",
                    right: "0%",
                    bottom: "4%",
                    containLabel: true
                },
                xAxis: [
                    {
                        type: "category",
                        data: [
                            "18岁以下",
                            "18-24岁",
                            "25-34岁",
                            "35-44岁",
                            "45-54岁",
                            "55岁以上"
                        ],
                        axisTick: {
                            alignWithLabel: true
                        },
                        // 修改刻度标签 相关样式
                        axisLabel: {
                            color: "#0099FF",
                            fontSize: "12"
                        },
                        // 不显示x坐标轴的样式
                        axisLine: {
                            show: false
                        }
                    }
                ],
                yAxis: [
                    {
                        type: "value",
                        // 修改刻度标签 相关样式
                        axisTick: {
                            show: false,
                        },
                        axisLabel: {
                            color: "#439aff",
                            fontSize: 12
                        },
                        // y轴的线条改为了 2像素
                        axisLine: {
                            lineStyle: {
                                color: '#439aff',
                                // color: "#0099FF",
                                fontSize: 12,
                                width: 1
                            }
                        },
                        // y轴分割线的颜色
                        splitLine: {
                            lineStyle: {
                                color: "#122446"
                            }
                        }
                    }
                ],
                series: [
                    {
                        name: "人员分布",
                        type: "bar",
                        barWidth: "35%",
                        data: getAgeitem,
                        itemStyle: {
                            // 修改柱子圆角
                            barBorderRadius: 5,
                            normal: {
                                // color: function(params) {
                                //     var colorList = ["#27a4f7", "#27a4f7", "#bc5375", "#27a4f7",];
                                //     return colorList[params.dataIndex],
                                //     //颜色渐变函数 前四个参数分别表示四个位置依次为左、下、右、上


                                // },
                                color: 'rgba(237,125,49, 0.8)',
                                color: function (params) {
                                    // console.log(params);
                                    var colorList = [
                                        ['#28b0ff', '#2b8aff'],
                                        ['#28b0ff', '#2b8aff'],
                                        ['#fab601', '#e93ca7'],
                                        ['#28b0ff', '#2b8aff'],
                                        ['#8D104B', '#FF83D8'],
                                        ['#7F610F', '#FFE899'],
                                        ['#108D89', '#83FFE9']
                                    ];

                                    var colorItem = colorList[params.dataIndex];
                                    return new echarts.graphic.LinearGradient(0, 0, 0, 1, [
                                        {
                                            offset: 0,
                                            color: colorItem[0]
                                        },
                                        {
                                            offset: 1,
                                            color: colorItem[1]
                                        }
                                    ], false);
                                },
                                emphasis: {
                                    color: new echarts.graphic.LinearGradient(
                                        0, 0, 0, 1,
                                        [
                                            { offset: 0, color: '#2FDECA' },
                                            { offset: 1, color: '#2FDE80' }
                                        ]
                                    )
                                }

                            }
                        },
                        areaStyle: {}
                    }
                ]
            };
            // 3. 把配置项给实例对象
            myChart.setOption(option);
            // 4. 让图表跟随屏幕自动的去适应
            window.addEventListener("resize", function () {
                myChart.resize();
            });
        }


        //折线图模块1 
        //今日数据
        //数据

        function bb() {
              var yearData = [
                    {
                        // year: '2020',  // 年份
                        // 两个数组是因为有两条线
                          data: [  
                            getshowTodaydata,
                            getshowyeardaydatalst, 
                            ],
                        // data: this.getshowTodaydata,
                        // data:this.getshowyeardaydatalst,
                    },
                    {
                        // year: '2021',  // 年份
                        // data: this.getTimelongitem,
                         // 两个数组是因为有两条线
                          data: [ 
                            getTimelongitem
                            // [24, 40, 101, 134, 90, 230, 210, 230, 120, 230, 210, 120],
                        ]
                    }
                ];
            //数据
            var myChart = echarts.init(document.querySelector(".line .chert"));
            // 指定配置
            var option02 = {
                color: [
                    '#e33aa3', '#439aff',
                ],
                title: {
                    // text: '堆叠区域图',
                    x: 'center',
                    y: 'bottom',
                },
                tooltip: {
                    trigger: 'axis',
                    axisPointer: {
                        type: 'none',
                        label: {
                            backgroundColor: '#6a7985'
                        }
                    }
                },
                // 图例组件
                legend: {
                    borderColor: '#657DE9',
                    textStyle: {
                        color: '#fff' //图例文字颜色
                    },
                    right: '10%',
                    icon: 'rect',
                    // orient: 'vertical',
                    // x:'center',      //可设定图例在左、右、居中
                    // y:'top',    //可设定图例在上、下、居中
                    // padding:[0,50,0,0],   //可设定图例[距上方距离，距右方距离，距下方距离，距左方距离]
                    data: ['过去七天']
                },
                toolbox: {
                    // feature: {
                    //     saveAsImage: {}
                    // }
                },
                grid: {
                    top: '20%',
                    left: '3%',
                    right: '4%',
                    bottom: '3%',
                    show: true,//显示边框
                    borderColor: '#012f4a',// 边框的颜色
                    containLabel: true
                },
                xAxis: [

                    {
                        type: 'category',
                        boundaryGap: false,
                        data: [getDATEda[1],getDATEda[2],getDATEda[3],getDATEda[4],getDATEda[5],getDATEda[6],getDATEda[7]],
                        axisTick: {
                            show: false,
                        },
                        axisLabel: {
                            color: '#f4f4f5'
                            //文本的颜色
                        },
                        axisLine: {
                            show: false
                        },
                        // 轴线
                        axisLabel: {
                            color: '#f4f4f5'
                            //文本的颜色
                        },
                    }
                ],
                yAxis: [
                    {
                        type: 'value',
                        boundaryGap: [0, '30%'],
                        axisTick: {
                            show: false,
                        },
                        splitLine: {
                            lineStyle: {
                                color: '#0d1935'
                            }
                            //分割线颜色
                        },
                        axisLabel: {
                            color: '#f4f4f5'
                            //文本的颜色
                        },
                        axisLine: {
                            show: false
                        },
                    }
                ],
                series: [
                    {
                        name: '过去七天',
                        type: 'line',
                        // stack: '总量',
                        symbol: 'circle',
                        smooth: true,
                        showSymbol: false,
                        symbolSize: 12,
                        itemStyle: {
                            color: '#0184d5',
                            borderColor: 'rgba(221,220,107,.1)',
                            borderWidth: 12
                        },
                        //  单独修改线的样式
                        lineStyle: {
                            color: '#377dd2',
                            width: 2,
                            type: 'solid'
                        },
                        // 拐点的样式

                        // 区域填充
                        areaStyle: {
                            // color:'#e33aa3'
                            // 渐变颜色
                            // 渐变色，只需要复制即可
                            // 渐变色，只需要复制即可
                            // 渐变色，只需要复制即可
                            color: new echarts.graphic.LinearGradient(
                                0,
                                0,
                                0,
                                1,
                                [
                                    {
                                        offset: 0,
                                        color: "#1e1636"   // 渐变色的起始颜色
                                    },
                                    {
                                        offset: 1,
                                        color: "#181a3b"   // 渐变线的结束颜色
                                    }
                                ],
                                false
                            ),
                            shadowColor: "rgba(0, 0, 0, 0.1)"
                        },
                        data: yearData[1].data[0]
                    }
                ]
            };
            // console.log(option02)
            var option = {
                color: [
                    '#e33aa3', '#439aff',
                ],
                title: {
                    // text: '堆叠区域图',
                    x: 'center',
                    y: 'bottom',
                },
                tooltip: {
                    trigger: 'axis',
                    axisPointer: {
                        type: 'none',
                        label: {
                            backgroundColor: '#6a7985'
                        }
                    }
                },
                // 图例组件
                legend: {
                    borderColor: '#657DE9',
                    textStyle: {
                        color: '#fff' //图例文字颜色
                    },
                    right: '10%',
                    icon: 'rect',
                    // orient: 'vertical',
                    // x:'center',      //可设定图例在左、右、居中
                    // y:'top',    //可设定图例在上、下、居中
                    // padding:[0,50,0,0],   //可设定图例[距上方距离，距右方距离，距下方距离，距左方距离]
                    data: ['今日', '昨日',]
                },
                toolbox: {
                    // feature: {
                    //     saveAsImage: {}
                    // }
                },
                grid: {
                    top: '20%',
                    left: '3%',
                    right: '4%',
                    bottom: '3%',
                    show: true,//显示边框
                    borderColor: '#012f4a',// 边框的颜色
                    containLabel: true
                },
                xAxis: [

                    {
                        type: 'category',
                        boundaryGap: false,
                        data: ['1', '2', '3', '4', '5', '6', '7', '8','9','10','11','12','13','14','15','16','17','18','19','20','21','22','23',],
                        axisTick: {
                            show: false,
                        },
                        axisLabel: {
                            color: '#f4f4f5'
                            //文本的颜色
                        },
                        axisLine: {
                            show: false
                        },
                        // 轴线
                        axisLabel: {
                            color: '#f4f4f5'
                            //文本的颜色
                        },
                    }
                ],
                yAxis: [
                    {
                        type: 'value',
                        boundaryGap: [0, '30%'],
                        axisTick: {
                            show: false,
                        },
                        splitLine: {
                            lineStyle: {
                                color: '#0d1935'
                            }
                            //分割线颜色
                        },
                        axisLabel: {
                            color: '#f4f4f5'
                            //文本的颜色
                        },
                        axisLine: {
                            show: false
                        },
                    }
                ],
                series: [
                    {
                        name: '今日',
                        type: 'line',
                        // stack: '总量',
                        symbol: 'circle',
                        smooth: true,
                        showSymbol: false,
                        symbolSize: 12,
                        itemStyle: {
                            color: '#0184d5',
                            borderColor: 'rgba(221,220,107,.1)',
                            borderWidth: 12
                        },
                        //  单独修改线的样式
                        lineStyle: {
                            color: '#377dd2',
                            width: 2,
                            type: 'solid'
                        },
                        // 拐点的样式

                        // 区域填充
                        areaStyle: {
                            // color:'#e33aa3'
                            // 渐变颜色
                            // 渐变色，只需要复制即可
                            // 渐变色，只需要复制即可
                            // 渐变色，只需要复制即可
                            color: new echarts.graphic.LinearGradient(
                                0,
                                0,
                                0,
                                1,
                                [
                                    {
                                        offset: 0,
                                        color: "#1e1636"   // 渐变色的起始颜色
                                    },
                                    {
                                        offset: 1,
                                        color: "#181a3b"   // 渐变线的结束颜色
                                    }
                                ],
                                false
                            ),
                            shadowColor: "rgba(0, 0, 0, 0.1)"
                        },
                        data: yearData[0].data[0]
                        // data: [120, 132, 101, 134, 90, 230, 210]
                    },
                    {
                        name: '昨日',
                        type: 'line',
                        smooth: true,
                        symbol: 'circle',
                        symbolSize: 12,
                        itemStyle: {
                            color: '#b6348e',
                            borderColor: 'rgba(221,220,107,.1)',
                            borderWidth: 12
                        },
                        // stack: '总量',
                        lineStyle: {
                            color: '#b6348e',
                            width: 2,
                            type: 'solid'
                        },
                        // 开始不显示拐点，鼠标经过显示
                        showSymbol: false,
                        label: {
                            normal: {
                                show: true,
                                position: 'top'
                            }
                        },
                        areaStyle: {
                            color: '#387fd5'
                        },
                        data: yearData[0].data[1]
                    }
                ]
            };
            //把配置给实例对象
            // console.log(option02,"打印一下");
            myChart.clear();
            myChart.setOption(option02);
            window.addEventListener('resize', function () {
                myChart.resize();
            });
            // 点击切换效果
            $('.line .hiver .panel-y').on('click', 'a', function () {
                // console.log($(this).index()); //获取当前索引
                // yearDate的相关对象
                // console.log(yearData[$(this).index()]);
                var obj = yearData[$(this).index()]
                if($(this).index() === 0){
                    myChart.clear();
                    myChart.setOption(option02);
                }else{
                    myChart.clear();
                    myChart.setOption(option);
                }
                
            })
        }

        // function ee() {
        //     var myChart = echarts.init(document.querySelector(".line .cherrt"));
        //     var options = {
        //         color: [
        //             '#e33aa3', '#e4e5ee',
        //         ],
        //         title: {
        //             // text: '堆叠区域图',
        //             x: 'center',
        //             y: 'bottom',
        //         },
        //         tooltip: {
        //             trigger: 'axis',
        //             axisPointer: {
        //                 type: 'none',
        //                 label: {
        //                     backgroundColor: '#6a7985'
        //                 }
        //             },
        //             // formatter:params=>{
        //             //     console.log(params,'我的')
        //             //     // console.log(params[0].seriesName)
        //             //     // return params[0].seriesId;
        //             //     return params[0]+'当日'

        //             // }
        //         },
        //         // 图例组件
        //         legend: {
        //             borderColor: '#657DE9',
        //             textStyle: {
        //                 color: '#fff' //图例文字颜色
        //             },
        //             right: '10%',
        //             icon: 'rect',
        //             // orient: 'vertical',
        //             // x:'center',      //可设定图例在左、右、居中
        //             // y:'top',    //可设定图例在上、下、居中
        //             // padding:[0,50,0,0],   //可设定图例[距上方距离，距右方距离，距下方距离，距左方距离]
        //             data: ['今日', '昨日']
        //         },
        //         toolbox: {
        //             // feature: {
        //             //     saveAsImage: {}
        //             // }
        //         },
        //         grid: {
        //             top: '20%',
        //             left: '3%',
        //             right: '4%',
        //             bottom: '3%',
        //             show: true,//显示边框
        //             borderColor: '#012f4a',// 边框的颜色
        //             containLabel: true
        //         },
        //         xAxis: [

        //             {
        //                 type: 'category',
        //                 boundaryGap: false,
        //                 data: ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '20', '21', '22', '23', '24'],
        //                 axisTick: {
        //                     show: false,
        //                 },
        //                 axisLabel: {
        //                     color: '#f4f4f5'
        //                     //文本的颜色
        //                 },
        //                 axisLine: {
        //                     show: false
        //                 },
        //                 // 轴线
        //                 axisLabel: {
        //                     color: '#f4f4f5'
        //                     //文本的颜色
        //                 },
        //             }
        //         ],
        //         yAxis: [
        //             {
        //                 type: 'value',
        //                 boundaryGap: [0, '30%'],
        //                 axisTick: {
        //                     show: false,
        //                 },
        //                 splitLine: {
        //                     lineStyle: {
        //                         color: '#0d1935'
        //                     }
        //                     //分割线颜色
        //                 },
        //                 axisLabel: {
        //                     color: '#f4f4f5'
        //                     //文本的颜色
        //                 },
        //                 axisLine: {
        //                     show: false
        //                 },
        //             }
        //         ],
        //         series: [

        //             {
        //                 name: '今日', // wei
        //                 type: 'line',
        //                 // stack: '总量',
        //                 symbol: 'circle',
        //                 smooth: true,
        //                 showSymbol: false,
        //                 symbolSize: 12,
        //                 itemStyle: {
        //                     color: '#0184d5',
        //                     borderColor: 'rgba(221,220,107,.1)',
        //                     borderWidth: 12
        //                 },
        //                 //  单独修改线的样式
        //                 lineStyle: {
        //                     color: '#377dd2',
        //                     width: 2,
        //                     type: 'solid'
        //                 },
        //                 // 拐点的样式

        //                 // 区域填充
        //                 areaStyle: {
        //                     // color:'#e33aa3'
        //                     // 渐变颜色
        //                     // 渐变色，只需要复制即可
        //                     // 渐变色，只需要复制即可
        //                     // 渐变色，只需要复制即可
        //                     color: new echarts.graphic.LinearGradient(
        //                         0,
        //                         0,
        //                         0,
        //                         1,
        //                         [
        //                             {
        //                                 offset: 0,
        //                                 color: "#1e1636"   // 渐变色的起始颜色
        //                             },
        //                             {
        //                                 offset: 1,
        //                                 color: "#181a3b"   // 渐变线的结束颜色
        //                             }
        //                         ],
        //                         false
        //                     ),
        //                     shadowColor: "rgba(0, 0, 0, 0.1)"
        //                 },
        //                 // data: yearData[0].data[0]
        //                 data: [120, 132, 101, 134, 90, 230, 210]
        //             },
        //             {
        //                 name: '昨日', // jin
        //                 type: 'line',
        //                 smooth: true,
        //                 symbol: 'circle',
        //                 symbolSize: 12,
        //                 itemStyle: {
        //                     color: '#b6348e',
        //                     borderColor: 'rgba(221,220,107,.1)',
        //                     borderWidth: 12
        //                 },
        //                 // stack: '总量',
        //                 lineStyle: {
        //                     color: '#b6348e',
        //                     width: 2,
        //                     type: 'solid'
        //                 },
        //                 // 开始不显示拐点，鼠标经过显示
        //                 showSymbol: false,
        //                 label: {
        //                     normal: {
        //                         show: true,
        //                         position: 'top'
        //                     }
        //                 },
        //                 areaStyle: {
        //                     color: '#387fd5'
        //                 },
        //                 // data: yearData[0].data[1]
        //             }
        //         ]
        //     };
        //     //把配置给实例对象
        //     myChart.setOption(options);
        //     window.addEventListener('resize', function () {
        //         myChart.resize();
        //     });
        // }



        // 昨日数据

        // 扇形图
        function cc() {
            var myChart = echarts.init(document.querySelector('.pie .chert'))
            var option = {
                color: ['#2a9aff', '#5b29d7', '#f1668d'],

                title: {
                    // text: '某站点用户访问来源',
                    // subtext: '纯属虚构',
                    left: 'center'
                },
                tooltip: {
                    trigger: 'item',
                    // formatter: '{a} <br/>{b} : {c} ({d}%)',

                },
                legend: {
                    // orient: 'vertical',
                    bottom: '0%',
                    textStyle: {
                        color: '#fff',
                        fontSize: 12
                    }
                    // data: ['UI设计图', '摄影图', '矢量图',]
                },
                series: [
                    {
                        // name: '每月图片销量',
                        type: 'pie',
                        radius: ['10%', '55%'],
                        center: ['50%', '50%'],
                        // label:{
                        //   show:true,
                        //   position:'center'
                        // },
                        labelLine: {
                            show: true,
                            normal: {
                                // length: 30,
                                // length2: 10,
                                lineStyle: {
                                    color: '#333'
                                }
                            }
                        },
                        data: getSourceAnalysisitem,
                        // data: [
                        //     {value: 300, name: 'UI设计图'},
                        //     {value: 300, name: '摄影图'},
                        //     {value: 234, name: '矢量图'},
                        //     // {value: 135, name: '视频广告'},
                        //     // {value: 1548, name: '搜索引擎'}
                        // ],
                        label: {

                            normal: {
                                formatter: '{d}%',//\n实现换行   // 实现百分%
                                rich: {
                                    a: {
                                        color: '#fff',
                                        fontSize: 10,
                                        lineHeight: 10

                                    },
                                    b: {
                                        fontSize: 10,
                                        lineHeight: 10,
                                        color: '#fff'

                                    },
                                    c: {
                                        fontSize: 10,
                                        lineHeight: 20,
                                        color: '#fff'

                                    }

                                }

                            }

                        }
                        // emphasis: {
                        //     itemStyle: {
                        //         shadowBlur: 10,
                        //         shadowOffsetX: 0,
                        //         shadowColor: 'rgba(0, 0, 0, 0.5)'
                        //     }
                        // }
                    }
                ]
            };
            //把配置给实例对象
            myChart.setOption(option);
            window.addEventListener('resize', function () {
                myChart.resize();
            })
        }
        // 折线图2
        function dd() {
            var myChart = echarts.init(document.querySelector(".mapts .cherts"));
            // 2. 指定配置项和数据
            option = {
                // backgroundColor:'#232d36',
                tooltip: {
                    trigger: 'axis',
                    axisPointer: {
                        lineStyle: {
                            color: {
                                type: 'linear',
                                x: 0,
                                y: 0,
                                x2: 0,
                                y2: 1,
                                colorStops: [{
                                    offset: 0,
                                    color: 'rgba(0, 255, 233,0)'
                                }, {
                                    offset: 0.5,
                                    color: 'rgba(255, 255, 255,1)',
                                }, {
                                    offset: 1,
                                    color: 'rgba(0, 255, 233,0)'
                                }],
                                global: false
                            }
                        },
                    },
                },
                grid: {
                    top: '15%',
                    left: '10%',
                    right: '5%',
                    bottom: '15%',
                    // containLabel: true
                },
                tooltip: {
                    axisPointer: {
                        type: 'none'  //去掉竖线
                    }
                },
                xAxis: [{
                    type: 'category',
                    axisLine: {
                        show: false,
                        color: '#A582EA'
                    },

                    axisLabel: {
                        show: false
                    },
                    splitLine: {
                        show: false,
                        lineStyle: {
                            color: '#1c3b6b'
                        }
                    },
                    boundaryGap: false,
                    data: getdataitem,//this.$moment(data.times).format("HH-mm") ,

                }],

                yAxis: [{
                    type: 'value',
                    min: 0,
                    // max: 140,
                    splitNumber: 4,
                    splitLine: {
                        show: true,
                        lineStyle: {
                            color: '#00BFF3',
                            opacity: 0.23
                        }
                    },
                    axisLine: {
                        show: false,
                    },
                    axisLabel: {
                        show: false,
                        margin: 20,
                        textStyle: {
                            color: '#fff',

                        },
                    },
                    axisTick: {
                        show: false,
                    },
                    // data: getdataitemfun,//y轴
                }],
                series: [
                    {
                        name: '日期',
                        type: 'line',
                        showAllSymbol: true,
                        symbol: 'circle',
                        symbolSize: 10,
                        lineStyle: {
                            normal: {
                                color: "#672460",
                            },
                        },
                        label: {
                            show: false,
                            position: 'top',
                            textStyle: {
                                color: '#A582EA',
                            }
                        },
                        itemStyle: {
                            color: "#e93ca7",
                            borderColor: "#e93ca7",
                            borderWidth: 2,
                        },
                        // areaStyle: {
                        //     normal: {
                        //         color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [
                        //             {
                        //                 offset: 0,
                        //                 color: 'rgba(43,193,145,0.3)'
                        //             },
                        //             {
                        //                 offset: 1,
                        //                 color: 'rgba(43,193,145,0)'
                        //             }
                        //         ], false),
                        //     },
                        //去掉阴影
                        // },
                        data:getdataitemfun//data.values
                    },
                    {
                        name: '索引量',
                        type: 'line',
                        showAllSymbol: true,
                        symbol: 'circle',
                        symbolSize: 10,
                        lineStyle: {
                            normal: {
                                color: "#1c3b6b", //颜色修改
                            },
                        },
                        label: {
                            show: false, //上面的文字
                            position: 'top',
                            textStyle: {
                                color: '#2CABE3',
                            }
                        },
                        itemStyle: {
                            color: "#439aff",
                            borderColor: "#439aff",
                            borderWidth: 2,
                        },
                        // areaStyle: {
                        //     normal: {
                        //         color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [
                        //             // {
                        //             //     offset: 0,
                        //             //     color: 'rgba(81,150,164,0.3)'
                        //             // },
                        //             // {
                        //             //     offset: 1,
                        //             //     color: 'rgba(81,150,164,0)'
                        //             // }
                        //         ], false),
                        //     }
                        // },
                        data:getdataitemfun//data.values
                    },
                ]
            };

            // 3. 把配置项给实例对象
            // console.log(option,"打印洗衣啊")
            myChart.setOption(option);
            // 4. 让图表跟随屏幕自动的去适应
            window.addEventListener("resize", function () {
                myChart.resize();
            });
        }
    </script>
</body>

</html>